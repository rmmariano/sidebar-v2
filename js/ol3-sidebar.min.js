ol.control.Sidebar=function(t){var s,e;for(this._options=Object.assign({},{element:null,position:"left"},t),ol.control.Control.call(this,{element:document.getElementById(this._options.element),target:this._options.target}),this.element.classList.add("ol-sb-sidebar-"+this._options.position),s=this.element.children.length-1;0<=s;s--)"DIV"===(e=this.element.children[s]).tagName&&e.classList.contains("ol-sb-sidebar-content")&&(this._container=e);for(this._tabitems=this.element.querySelectorAll("ul.ol-sb-sidebar-tabs > li, .ol-sb-sidebar-tabs > ul > li"),s=this._tabitems.length-1;0<=s;s--)this._tabitems[s]._sidebar=this;for(this._panes=[],this._closeButtons=[],s=this._container.children.length-1;0<=s;s--)if("DIV"==(e=this._container.children[s]).tagName&&e.classList.contains("ol-sb-sidebar-pane")){this._panes.push(e);for(var i=e.querySelectorAll(".ol-sb-sidebar-close"),o=0,l=i.length;o<l;o++)this._closeButtons.push(i[o])}},ol.inherits(ol.control.Sidebar,ol.control.Control),ol.control.Sidebar.prototype.setMap=function(t){var s,e;for(s=this._tabitems.length-1;0<=s;s--){var i=(e=this._tabitems[s]).querySelector("a");i.hasAttribute("href")&&"#"==i.getAttribute("href").slice(0,1)&&(i.onclick=this._onClick.bind(e))}for(s=this._closeButtons.length-1;0<=s;s--)(e=this._closeButtons[s]).onclick=this._onCloseClick.bind(this)},ol.control.Sidebar.prototype.open=function(t){var s,e;for(s=this._panes.length-1;0<=s;s--)(e=this._panes[s]).id==t?e.classList.add("ol-sb-active"):e.classList.contains("ol-sb-active")&&e.classList.remove("ol-sb-active");for(s=this._tabitems.length-1;0<=s;s--)(e=this._tabitems[s]).querySelector("a").hash=="#"+t?e.classList.add("ol-sb-active"):e.classList.contains("ol-sb-active")&&e.classList.remove("ol-sb-active");return this.element.classList.contains("ol-sb-collapsed")&&this.element.classList.remove("ol-sb-collapsed"),this},ol.control.Sidebar.prototype.close=function(){for(var t=this._tabitems.length-1;0<=t;t--){var s=this._tabitems[t];s.classList.contains("ol-sb-active")&&s.classList.remove("ol-sb-active")}return this.element.classList.contains("ol-sb-collapsed")||this.element.classList.add("ol-sb-collapsed"),this},ol.control.Sidebar.prototype._onClick=function(t){t.preventDefault(),this.classList.contains("ol-sb-active")?this._sidebar.close():this.classList.contains("ol-sb-disabled")||this._sidebar.open(this.querySelector("a").hash.slice(1))},ol.control.Sidebar.prototype._onCloseClick=function(){this.close()};